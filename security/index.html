<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8"/>
	<meta name="description" content="COMP 20 Assignment 04: 'Server Security Analysis'"/>
	<meta name="keywords" content="Schneer"/>
	<meta name="author" content="Andrew Schneer"/>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
	<link rel="stylesheet" type="text/css" href="./style.css"/>
	<title>Security</title>
</head>

<body>
	<div class="section" id="header">
		<h1>Andrew Schneer</h1>
		<h2>COMP 20 - Web Programming</h2>
		<h2>Ming Chow</h2>
		<h2>Assignment 4 - Server Security Analysis</h2>
		<h2>04/24/2015</h2>
	</div>
	<div class="section" id="introduction">
		<h3>Introduction:</h3>
		<p>
			This product is a web server which
			serves the geographical locations
			of its clients.  Clients are able
			to communicate with the server via
			specific HTTP requests.  Server
			functionality includes adding a
			client's login and location to the
			server database, returning a specific
			user record from the database,
			returning the entire contents of the
			database, and listing a history of
			all records that were added to the
			database in the form of a web page
			with entries logged by timestamp.
			<br><br>
			I have been hired as a security
			consultant to document and resolve
			the security and privacy issues in
			a classmate's web server.
		</p>
	</div>
	<div class="section" id="methodology">
		<h3>Methodology:</h3>
		<p>hello world</p>
	</div>
	<div class="section" id="abstract">
		<h3>Abstract of Findings:</h3>
		<p>hello world</p>
	</div>
	<div class="section" id="issues">
		<h3>Issues Found:</h3>
		<p>
			<ol id="issueList">
				<li class="lev1">
					<p>Issue 1</p>
					<br>
					<ol>
						<li class="lev2">
							<p>Issue</p>
							<br>
							<p>
								Non-float values accepted
								for latitude and longitude.
							</p>
						</li>
						<li class="lev2">
							<p>Location</p>
							<br>
							<p>
								/sendLocation
							</p>
						</li>
						<li class="lev2">
							<p>Severity</p>
							<br>
							<p>
								Mild
							</p>
						</li>
						<li class="lev2">
							<p>Description</p>
							<br>
							<p>
								POST requests to /sendLocation
								are not validated for proper
								data types.  Non-numbers can
								be input for lat and lng values
								and they are shown in the log
								as "NaN".  In the database,
								they are stored as "null".
							</p>
						</li>
						<li class="lev2">
							<p>Proof of Vulnerability</p>
							<br>
							<p>
								<img alt="Proof Issue 1" src="./issue_01_01.png"/>
								<img alt="Proof Issue 1" src="./issue_01_02.png"/>
							</p>
						</li>
						<li class="lev2">
							<p>Resolution</p>
							<br>
							<p>
								Use a validation library to check
								user input to make sure it is of
								the expected data type.  A great
								library for this is Chriso's
								validator.js, which can be found
								<a href="https://github.com/chriso/validator.js">here</a>.
								The isFloat() function can be used
								to check if a piece of data is
								a floating point number.
							</p>
						</li>
					</ol>
				</li>
				<li class="lev1">
					<p>Issue 2</p>
					<br>
					<ol>
						<li class="lev2">
							<p>Issue</p>
							<br>
							<p>
								Script injection.
							</p>
						</li>
						<li class="lev2">
							<p>Location</p>
							<br>
							<p>
								/sendLocation
							</p>
						</li>
						<li class="lev2">
							<p>Severity</p>
							<br>
							<p>
								Serious
							</p>
						</li>
						<li class="lev2">
							<p>Description</p>
							<br>
							<p>
								The site is vulnerable to script
								injection (XSS) from POST requests.
								When script tags with javascript
								code are sent to the server as
								the login name, the code runs on
								the page when the HTML is rendered.
							</p>
						</li>
						<li class="lev2">
							<p>Proof of Vulnerability</p>
							<br>
							<p>
								<img alt="Proof Issue 2" src="./issue_02_01.png"/>
								<img alt="Proof Issue 2" src="./issue_02_02.png"/>
							</p>
						</li>
						<li class="lev2">
							<p>Resolution</p>
							<br>
							<p>
								Search all POST request content
								for "<" and ">" symbols and
								remove them.  This way, no HTML
								tags could ever be rendered on
								the page from an outside source.
							</p>
						</li>
					</ol>
				</li>
				<li class="lev1">
					<p>Issue 3</p>
					<br>
					<ol>
						<li class="lev2">
							<p>Issue</p>
							<br>
							<p>
								Style injection.
							</p>
						</li>
						<li class="lev2">
							<p>Location</p>
							<br>
							<p>
								/sendLocation
							</p>
						</li>
						<li class="lev2">
							<p>Severity</p>
							<br>
							<p>
								Serious
							</p>
						</li>
						<li class="lev2">
							<p>Description</p>
							<br>
							<p>
								The site is vulnerable to style
								injection from POST requests.
								When style tags with CSS
								code are sent to the server as
								the login name, the code runs on
								the page when the HTML is rendered.
								This opens the site up to clients
								changing the styles and layout.
							</p>
						</li>
						<li class="lev2">
							<p>Proof of Vulnerability</p>
							<br>
							<p>
								<img alt="Proof Issue 3" src="./issue_03_01.png"/>
								<img alt="Proof Issue 3" src="./issue_03_02.png"/>
							</p>
						</li>
						<li class="lev2">
							<p>Resolution</p>
							<br>
							<p>
								Search all POST request content
								for "<" and ">" symbols and
								remove them.  This way, no HTML
								tags could ever be rendered on
								the page from an outside source.
							</p>
						</li>
					</ol>
				</li>
			</ol>
		</p>
	</div>
	<div class="section" id="conclusion">
		<h3>Conclusion:</h3>
		<p>hello world</p>
	</div>
</body>

</html>